<!DOCTYPE>
<html>
  <head>
    <meta charset="utf-8">
    <title>IFE JavaScript Task 18</title>
    <style type="text/css">
    #result div {
      margin: 10px;
      padding: 5px;
      background-color: red;
      text-align: center;
      float: left;
    }
    button:nth-child(4){
      margin-left: 30px;
    }
    </style>
  </head>
<body>
  
  <div>
    <input  id="txt" type="text" />
    <button id="left-in">左侧入</button>
    <button id="right-in">右侧入</button>
    <button id="left-out">左侧出</button>
    <button id="right-out">右侧出</button>
  </div>
  <div id="result"></div>
  <script type="text/javascript">
    var result=document.getElementById("result");
    var txt=document.getElementById("txt");
    var leftIn=document.getElementById("left-in");
    var RightIn=document.getElementById("right-in");
    var Leftout=document.getElementById("left-out");
    var Rightout=document.getElementById("right-out");
    var aDiv=result.getElementsByTagName('div');
    leftIn.onclick=function(){
      var oDiv=document.createElement('div');
      oDiv.innerHTML=txt.value;
      result.insertBefore(oDiv,aDiv[0]); 
      for (var i = 0; i < aDiv.length; i++) {
             aDiv[i].index=i;
             aDiv[i].onclick=function(){
              alert(aDiv[this.index].innerHTML);
              result.removeChild(aDiv[this.index])
             }
           };     
    }
    RightIn.onclick=function(){
      var oDiv=document.createElement("div");
      result.appendChild(oDiv);
      oDiv.innerHTML=txt.value;
      for (var i = 0; i < aDiv.length; i++) {
             aDiv[i].index=i;
             aDiv[i].onclick=function(){
              alert(aDiv[this.index].innerHTML);
              result.removeChild(aDiv[this.index])
             }
           };  
    }
    Leftout.onclick=function(){
      alert(aDiv[0].innerHTML);
      result.removeChild(aDiv[0]);
    }
    Rightout.onclick=function(){
      alert(aDiv[aDiv.length-1].innerHTML);
      result.removeChild(aDiv[aDiv.length-1]);
    }
    
  </script>
</body>
</html>